
<div class="coh-canvas-chart">
  <canvas id="{{ chartId }}"></canvas>

  <script src="/bundles/contaocohcanvas/js/chart.min.js"></script>
  <script src="/bundles/contaocohcanvas/js/chartjs-adapter-date-fns.bundle.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const chartId = "{{ chartId }}";
      const ajaxUrl = "{{ ajaxUrl }}";

      fetch(ajaxUrl)
        .then(r => r.json())
        .then(data => {
          const ctx = document.getElementById(chartId).getContext("2d");
          new Chart(ctx, {
            type: 'line',
            data: data,
            options: {
              responsive: true,
              scales: {
                x: { type: 'time', time: { unit: 'day' } }
              },
              plugins: {
                title: {
                  display: true,
                  text: 'Sensorwerte Ã¼ber Zeit'
                }
              }
            }
          });
        });
    });
  </script>
</div>
